<body class="homepage">
<div class="container">
  <div class="row">
    <div class="col-sm-12 text-center bootstrap-welcome margin200px">
      <h1 class="h1lead">Welcome to the Commuter Assistance Program</h1>
      <p class="lead">Want a personalized dashboard of your favorite places?</p>
      <a href="#" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
        Sign-Up Now!
      </a>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Sign-Up!</h4>
      </div>

      <div class="modal-body">
          <div class="form-group">
            <%= bootstrap_form_for :user, :html => { :id=> "identicalForm"}, url: '/users' do |f| %>

             <%= f.text_field :name,autofocus: true, placeholder: 'Name', hide_label: true %>
           <%= f.text_field :email,  placeholder: 'Email', hide_label: true %>
           <%= f.password_field :password,  placeholder: 'Password' , hide_label: true, id:"password" %>
            <%= f.password_field :password_confirmation,  placeholder: 'Password confirmation', hide_label: true, id:"confirm_password" %>
            <%= f.submit "Submit",  class: 'btn btn-warning check' %>

          <% end %>

<script>

var isAppended = false
var password = document.getElementById("password")
  , confirm_password = document.getElementById("confirm_password");

function validatePassword(){
  if(password.value != confirm_password.value) {

    confirm_password.setCustomValidity("Passwords Don't Match");
  if (password.value.length < 6){
  $message =  $("<p>Password must be at lest 6 characters</p>");
  $message.attr('id', "dontMatch");

  if (isAppended === false){

  $("#myModalLabel").append($message);
  $("#dontMatch").css('color', 'red');
  isAppended = true;
  }
  }

  } else {
    confirm_password.setCustomValidity('');
    $('#myModalLabel').remove("#dontMatch")
  }
}

password.onchange = validatePassword;
confirm_password.onkeyup = validatePassword;



</script>





    </div>

  </div>
</div>
</body>
